---
title: dnscmd
description: Argomento di riferimento per dnscmd, un'interfaccia della riga di comando per la gestione dei server DNS.
ms.prod: windows-server
ms.technology: manage-windows-commands
ms.topic: article
ms.assetid: e7f31cb5-a426-4e25-b714-88712b8defd5
author: coreyp-at-msft
ms.author: coreyp
manager: dongill
ms.date: 10/16/2017
ms.openlocfilehash: e153ab1ed1b8f02f09bf1d8fb4a7842a08c8698b
ms.sourcegitcommit: aed942d11f1a361fc1d17553a4cf190a864d1268
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 05/12/2020
ms.locfileid: "83235198"
---
# <a name="dnscmd"></a>Dnscmd

> Si applica a: Windows Server (canale semestrale), Windows Server 2019, Windows Server 2016, Windows Server 2012 R2, Windows Server 2012

Interfaccia della riga di comando per la gestione dei server DNS. Questa utilità è utile per l'esecuzione di script per i file batch per automatizzare le attività di gestione DNS di routine o per eseguire semplici operazioni di installazione e configurazione automatiche dei nuovi server DNS nella rete.

## <a name="syntax"></a>Sintassi
```
dnscmd <ServerName> <command> [<command parameters>]
```

### <a name="parameters"></a>Parametri

|  Parametro   |     Descrizione      |
|--------------|--------------------------------------------------------------|
| `<ServerName>` | Indirizzo IP o nome host di un server DNS remoto o locale. |


## <a name="commands"></a>Comandi

|   Comando   |     Descrizione      |
| ----------- | -------------------- |
| [/AgeAllRecords dnscmd](#BKMK_1) | Imposta l'ora corrente in tutti i timestamp di una zona o di un nodo. |
| [/ClearCache dnscmd](#BKMK_2)  | Cancella la cache del server DNS. |
| [/config dnscmd](#BKMK_3) | Reimposta la configurazione del server o della zona DNS. |
| [/CreateBuiltinDirectoryPartitions dnscmd](#BKMK_4) | Crea le partizioni di directory applicative DNS predefinite. |
| [/CreateDirectoryPartition dnscmd](#BKMK_5) | Crea una partizione di directory applicativa DNS. |
| [/DeleteDirectoryPartition dnscmd](#BKMK_6) | Elimina una partizione di directory applicativa DNS. |
| [/DirectoryPartitionInfo dnscmd](#BKMK_7) | elenca le informazioni su una partizione di directory applicativa DNS. |
| [/EnlistDirectoryPartition dnscmd](#BKMK_8) | Aggiunge un server DNS al set di repliche di una partizione di directory applicativa DNS. |
| [/EnumDirectoryPartitions dnscmd](#BKMK_9) | Elenca le partizioni di directory applicative DNS per un server. |
| [/EnumRecords dnscmd](#BKMK_10) | Elenca i record di risorsa in una zona. |
| [/EnumZones dnscmd](#BKMK_11) | Elenca le zone ospitate dal server specificato. |
| [/ExportSettings dnscmd](#BKMK_25a) | Scrive le informazioni di configurazione del server in un file di testo. |
| [/info dnscmd](#BKMK_12) | Ottiene le informazioni sul server. |
| [/ipvalidate dnscmd](#BKMK_29a) | Convalida i server DNS remoti. |
| [/nodedelete dnscmd](#BKMK_13)  | Elimina tutti i record per un nodo in una zona. |
| [/RecordAdd dnscmd](#BKMK_14)  | Aggiunge un record di risorse a una zona. |
| [/RecordDelete dnscmd](#BKMK_15) | Rimuove un record di risorse da una zona. |
| [/ResetForwarders dnscmd](#BKMK_16) | Imposta i server DNS per l'invio di query ricorsive. |
| [/ResetListenAddresses dnscmd](#BKMK_17) | Imposta gli indirizzi IP del server per gestire le richieste DNS. |
| [/StartScavenging dnscmd](#BKMK_18) | Avvia lo scavenging del server. |
| [/Statistics dnscmd](#BKMK_19) | Esegue una query o cancella i dati delle statistiche del server. |
| [/UnenlistDirectoryPartition dnscmd](#BKMK_20) | Rimuove un server DNS dal set di repliche di una partizione di directory applicativa DNS. |
| [/writebackfiles dnscmd](#BKMK_21) | Salva tutti i dati di zona o di suggerimento radice in un file. |
| [/ZoneAdd dnscmd](#BKMK_22) | Crea una nuova zona nel server DNS. |
| [/ZoneChangeDirectoryPartition dnscmd](#BKMK_23) | Modifica la partizione di directory in cui risiede una zona. |
| [/ZoneDelete dnscmd](#BKMK_24) | Elimina una zona dal server DNS. |
| [/zoneexport dnscmd](#BKMK_25) | Scrive i record di risorse di una zona in un file di testo. |
| [/zoneinfo dnscmd](#BKMK_26) | Visualizza le informazioni sulla zona. |
| [/ZonePause dnscmd](#BKMK_27) | Sospende una zona. |
| [/zoneprint dnscmd](#BKMK_28) | Visualizza tutti i record nella zona. |
| [/ZoneRefresh dnscmd](#BKMK_30) | Forza un aggiornamento della zona secondaria dalla zona master. |
| [/ZoneReload dnscmd](#BKMK_31) | Ricarica una zona dal relativo database. |
| [/ZoneResetMasters dnscmd](#BKMK_32) | Modifica i server master che forniscono informazioni sul trasferimento di zona a una zona secondaria. |
| [/ZoneResetScavengeServers dnscmd](#BKMK_33) | Modifica i server in grado di effettuare lo scavenging di una zona. |
| [/ZoneResetSecondaries dnscmd](#BKMK_34) | Reimposta le informazioni secondarie per una zona. |
| [/zoneresettype dnscmd](#BKMK_29) | Modifica il tipo di zona. |
| [/ZoneResume dnscmd](#BKMK_35) | Riprende una zona. |
| [/ZoneUpdateFromDs dnscmd](#BKMK_36) | Aggiorna una zona integrata di Active Directory con i dati di servizi di dominio Active Directory (AD DS). |
| [/zonewriteback dnscmd](#BKMK_37) | Salva i dati della zona in un file. |

### <a name="dnscmd-ageallrecords"></a><a name=BKMK_1></a>/AgeAllRecords dnscmd

Imposta l'ora corrente in un timestamp per i record di risorsa in una zona o nodo specificato in un server DNS.

#### <a name="syntax"></a>Sintassi

```
dnscmd [<ServerName>] /ageallrecords <ZoneName>[<NodeName>] | [/tree]|[/f]
```

##### <a name="parameters"></a>Parametri

| Partameter | Descrizione |
| ---------- | ----------- |
| `<ServerName>` | Specifica il server DNS che l'amministratore prevede di gestire, rappresentato da un indirizzo IP, un nome di dominio completo (FQDN) o un nome host. Se questo parametro viene omesso, viene utilizzato il server locale. |
| `<ZoneName>` | Specifica il nome di dominio completo della zona. |
| `<NodeName>` | Specifica un nodo o un sottoalbero specifico nella zona. **NodeName** specifica il nodo o il sottoalbero nella zona usando quanto segue:<p>-@ per la zona radice o il nome di dominio completo<p>: Il nome di dominio completo (FQDN) di un nodo (il nome con un punto (.) alla fine)<p>: Singola etichetta per il nome rispetto alla radice della zona. |
| `/tree` | Specifica che tutti i nodi figlio ricevono anche il timestamp. |
| `/f` | Esegue il comando senza chiedere conferma. |

#### <a name="remarks"></a>Osservazioni

- Il comando **AgeAllRecords** è per la compatibilità con le versioni precedenti tra la versione corrente di DNS e le versioni precedenti di DNS in cui l'invecchiamento e lo scavenging non sono supportati. Aggiunge un timestamp con l'ora corrente ai record di risorse che non hanno un timestamp e imposta l'ora corrente nei record di risorse che hanno un timestamp.

- Lo scavenging dei record non viene eseguito a meno che non sia stato specificato un timestamp per i record. I record di risorse del server dei nomi (NS), i record di risorse dell'autorità (SOA) e i record di risorse WINS (Windows Internet Name Service) non sono inclusi nel processo di scavenging e non hanno un timestamp anche quando viene eseguito il comando **AgeAllRecords** .

- Questo comando ha esito negativo a meno che lo scavenging non sia abilitato per il server DNS e la zona. Per informazioni su come abilitare lo scavenging per la zona, vedere il parametro **Aging** sotto la sintassi a livello di zona nel comando <a href=#BKMK_3 data-raw-source=[config](#BKMK_3)>config</a> .<br/>-L'aggiunta di un timestamp ai record di risorse DNS li rende incompatibili con i server DNS eseguiti in sistemi operativi diversi da Windows 2000, Windows XP o Windows Server 2003. Non è possibile annullare l'esecuzione di un timestamp aggiunto tramite il comando **AgeAllRecords** .<br/>-Se non viene specificato alcun parametro facoltativo, il comando restituisce tutti i record di risorse nel nodo specificato. Se viene specificato un valore per almeno uno dei parametri facoltativi, **dnscmd** enumera solo i record di risorse che corrispondono al valore o ai valori specificati nel parametro o nei parametri facoltativi.<br/># # # # Esempio<br/>Vedere <a href = https://technet.microsoft.com/library/cc784399(v=ws.10).aspx Data-RAW-Source =[esempio 1: impostare l'ora corrente in un timestamp per i record di risorse](https://technet.microsoft.com/library/cc784399(v=ws.10).aspx)>esempio 1: impostare l'ora corrente in un timestamp per i record di risorse </a> .<br/>### <a name=BKMK_2></a>/ClearCache dnscmd<br/>Cancella la memoria cache DNS dei record di risorse nel server DNS specificato.<br/>Sintassi # # # #<br/><code>dnscmd [&lt;ServerName&gt;] /clearcache</code><br/>Parametri # # # # #<br/><ServerName><br/>Specifica il server DNS da gestire, rappresentato da indirizzo IP, FQDN o nome host. Se questo parametro viene omesso, viene utilizzato il server locale.<br/># # # # Utilizzo di esempio<br/><code>dnscmd dnssvr1.contoso.com /clearcache</code><br/>### <a name=BKMK_3></a>/config dnscmd<br/>modifica i valori nel registro di sistema per il server DNS e le singole zone. Accetta le impostazioni a livello di server e le impostazioni a livello di zona.<br/>&gt; [!CAUTION]<br/>&gt;Non modificare direttamente il registro di sistema, a meno che non si disponga di un'alternativa. L'editor del registro di sistema ignora le misure di sicurezza standard, consentendo impostazioni che possono compromettere le prestazioni, danneggiare il sistema o anche richiedere la reinstallazione di Windows. È possibile modificare in modo sicuro la maggior parte delle impostazioni del registro di sistema utilizzando i programmi nel pannello di controllo o in Microsoft Management Console (MMC). Se è necessario modificare direttamente il Registro di sistema, eseguirne il backup. Per ulteriori informazioni, vedere la guida dell'editor del registro di sistema.<br/># # # # Sintassi a livello di server<br/><code>dnscmd [&lt;ServerName&gt;] /config &lt;Parameter&gt;</code><br/># # # # dnscmd/config<br/>Modifica la configurazione del server specificato.<br/>Parametri # # # # #<br/><ServerName><br/>Specifica il server DNS che si prevede di gestire, rappresentato dalla sintassi del computer locale, dall'indirizzo IP, dal nome di dominio completo o dal nome host. Se questo parametro viene omesso, viene utilizzato il server locale.<br/><Parameter><br/>Specificare un'impostazione e, come opzione, un valore. I valori dei parametri usano questa sintassi: *Parameter* [*valore*]<br/>I valori dei parametri seguenti sono descritti nella parte restante di questa sezione:<br/>-   **/addressanswerlimit**<br/>-   **/bindsecondaries**<br/>-   **/bootmethod**<br/>-   **/DefaultAgingState**<br/>-   **/DefaultNoRefreshInterval**<br/>-   **/defaultrefreshinterval**<br/>-   **/disableautoreversezones**<br/>-   **/disablensrecordsautocreation**<br/>-   **/dspollinginterval**<br/>-   **/dstombstoneinterval**<br/>-   **/ednscachetimeout**<br/>-   **/enablednsprobes**<br/>-   **/enablednssec**<br/>-   **/enableglobalnamessupport**<br/>-   **/enableglobalqueryblocklist**<br/>-   **/eventloglevel**<br/>-   **/forwarddelegations**<br/>-   **/forwardingtimeout**<br/>-   **/globalnamesqueryorder**<br/>-   **/globalqueryblocklist**<br/>-   **/isslave**<br/>-   **/localnetpriority**<br/>-   **/logfilemaxsize**<br/>-   **/LogFilePath.**<br/>-   **/logipfilterlist**<br/>-   **/LogLevel**<br/>-   **/maxcachesize**<br/>-   **/maxcachettl**<br/>-   **/namecheckflag**<br/>-   **/notcp**<br/>-   **/norecursion**<br/>-   **/recursionretry**<br/>-   **/recursiontimeout**<br/>-   **/roundrobin**<br/>-   **/rpcprotocol**<br/>-   **/scavenginginterval**<br/>-   **/secureresponses**<br/>-   **/sendport**<br/>-   **/strictfileparsing**<br/>-   **/updateoptions**<br/>-   **/writeauthorityns**<br/>-   **/xfrconnecttimeout**<br/>**/AddressAnswerLimit [0 | 5-28]**<br/>Specifica il numero massimo di record host che un server DNS può inviare in risposta a una query. Il valore può essere zero (0) oppure può essere compreso tra 5 e 28 record. Il valore predefinito è zero (0).<br/>**/BindSecondaries [0 | 1]**<br/>consente di modificare il formato del trasferimento di zona in modo da ottenere la massima compressione ed efficienza. Tuttavia, questo formato non è compatibile con le versioni precedenti di Berkeley Internet Name Domain (BIND).<br/>**0**<br/>Usa la compressione massima. Questo formato è compatibile solo con le versioni di binding 4.9.4 e versioni successive.<br/>**1**<br/>Invia un solo record di risorse per messaggio a server DNS non Microsoft. Questo formato è compatibile con le versioni di binding precedenti a 4.9.4. Si tratta dell'impostazione predefinita.<br/>**/BootMethod [0 | 1 | 2 | 3]**<br/>Determina l'origine da cui il server DNS ottiene le informazioni di configurazione.<br/>**0**<br/>Cancella l'origine delle informazioni di configurazione.<br/>**1**<br/>Viene caricato dal file di binding che si trova nella directory DNS, che è%systemroot%\System32\DNS per impostazione predefinita.<br/>**2**<br/>Viene caricato dal registro di sistema.<br/>**3**<br/>Viene caricato da servizi di dominio Active Directory e dal registro di sistema. Si tratta dell'impostazione predefinita.<br/>**/DefaultAgingState [0 | 1]**<br/>Determina se la funzionalità di scavenging DNS è abilitata per impostazione predefinita nelle zone appena create.<br/>**0**<br/>Disabilita lo scavenging. Si tratta dell'impostazione predefinita.<br/>**1**<br/>Abilita lo scavenging.<br/>**/DefaultNoRefreshInterval [0x1-0xFFFFFFFF | 0xA8]**<br/>Imposta un periodo di tempo in cui non viene accettato alcun aggiornamento per i record aggiornati dinamicamente. Il valore viene ereditato automaticamente dalle zone nel server. Per modificare il valore predefinito, digitare un valore nell'intervallo **0x1-0xFFFFFFFF**. Il valore predefinito del server è **0xA8**.<br/>**/DefaultRefreshInterval [0x1-0xFFFFFFFF | 0xA8]**<br/>Imposta un periodo di tempo consentito per gli aggiornamenti dinamici ai record DNS. Il valore viene ereditato automaticamente dalle zone nel server. Per modificare il valore predefinito, digitare un valore nell'intervallo **0x1-0xFFFFFFFF**. Il valore predefinito del server è **0xA8**.<br/>**/DisableAutoReverseZones [0 | 1]**<br/>Abilita o Disabilita la creazione automatica di zone di ricerca inversa. Le zone di ricerca inversa forniscono la risoluzione degli indirizzi IP (Internet Protocol) ai nomi di dominio DNS.<br/>**0**<br/>Consente la creazione automatica di zone di ricerca inversa. Si tratta dell'impostazione predefinita.<br/>**1**<br/>Disabilita la creazione automatica di zone di ricerca inversa.<br/>**/DisableNSRecordsAutoCreation {0 | 1}**<br/>Specifica se il server DNS crea automaticamente i record di risorse del server dei nomi (NS) per le zone che ospita.<br/>**0**<br/>Crea automaticamente i record di risorse del server dei nomi (NS) per le zone ospitate dal server DNS.<br/>**1**<br/>Non crea automaticamente record di risorse del server dei nomi (NS) per le zone ospitate dal server DNS.<br/>**/dspollinginterval 0-30**<br/>Specifica la frequenza con cui il server DNS esegue il polling di servizi di dominio Active Directory per le modifiche nelle zone integrate di Active<br/>**/dstombstoneinterval [1-30]**<br/>Quantità di tempo in secondi per la conservazione dei record eliminati nei servizi di dominio Active Directory.<br/>**/EDNSCacheTimeout [ <seconds> ]**<br/>Specifica il numero di secondi di memorizzazione nella cache delle informazioni sul DNS esteso (EDNS). Il valore minimo è 3600 e il valore massimo è 15.724.800. Il valore predefinito è 604.800 secondi (una settimana).<br/>**/enableednsprobes {0 | 1}**<br/>Abilita o Disabilita il server per la verifica di altri server per determinare se supporta EDNS.<br/>**0**<br/>Disabilita il supporto attivo per i probe EDNS.<br/>**1**<br/>Abilita il supporto attivo per i probe EDNS.<br/>**/EnableDnsSec {0 | 1}**<br/>Abilita o Disabilita il supporto per le estensioni di sicurezza DNS (DNSSEC).<br/>**0**<br/>Disabilita DNSSEC.<br/>**1**<br/>Abilita DNSSEC.<br/>**/enableglobalnamessupport {0 | 1}**<br/>Abilita o Disabilita il supporto per la zona GlobalNames. La zona GlobalNames supporta la risoluzione dei nomi DNS con etichetta singola in una foresta.<br/>**0**<br/>Disabilita il supporto per la zona GlobalNames. Quando si imposta il valore di questo comando su **0**, il servizio server DNS non risolve i nomi con etichetta singola nella zona GlobalNames.<br/>**1**<br/>Abilita il supporto per la zona GlobalNames. Quando si imposta il valore di questo comando su **1**, il servizio server DNS risolve i nomi con etichetta singola nella zona GlobalNames.<br/>**/enableglobalqueryblocklist {0 | 1}**<br/>Abilita o Disabilita il supporto per l'elenco globale delle query bloccate che blocca la risoluzione dei nomi per i nomi nell'elenco. Il servizio server DNS crea e Abilita l'elenco globale di blocchi di query per impostazione predefinita quando il servizio viene avviato per la prima volta. Per visualizzare l'elenco di blocchi di query globali corrente, usare il comando **dnscmd/info/globalqueryblocklist** .<br/>**0**<br/>Disabilita il supporto per l'elenco globale delle query in blocco. Quando si imposta il valore di questo comando su **0**, il servizio server DNS risponde alle query per i nomi nell'elenco dei blocchi.<br/>**1**<br/>Abilita il supporto per l'elenco globale delle query in blocco. Quando si imposta il valore di questo comando su **1**, il servizio server DNS non risponde alle query per i nomi nell'elenco dei blocchi.<br/>**/EventLogLevel [0 | 1 | 2 | 4]**<br/>Determina quali eventi vengono registrati nel log del server DNS in Visualizzatore eventi.<br/>**0**<br/>Non registra alcun evento.<br/>**1**<br/>Solo registrazione degli errori.<br/>**2**<br/>Registra solo gli errori e gli avvisi.<br/>**4**<br/>Registra gli errori, gli avvisi e gli eventi informativi. Si tratta dell'impostazione predefinita.<br/>**/ForwardDelegations [0 | 1]**<br/>Determina il modo in cui il server DNS gestisce una query per una sottozona delegata. Queste query possono essere inviate alla sottozona a cui viene fatto riferimento nella query o all'elenco di server d'inoltri denominato per il server DNS. Le voci nell'impostazione vengono usate solo quando è abilitato l'invio.<br/>**0**<br/>Invia automaticamente query che fanno riferimento a sottozone delegate alla sottozona appropriata. Si tratta dell'impostazione predefinita.<br/>**1**<br/>Invia le query che fanno riferimento alla sottozona delegata ai server d'inoltri esistenti.<br/>**/ForwardingTimeout [ <seconds> ]**<br/>Determina il numero di secondi (0x1-0xFFFFFFFF) che un server DNS attende per la risposta di un server d'invio prima di provare un altro server d'altro. Il valore predefinito è **0x5**, che è 5 secondi.<br/>**/globalneamesqueryorder** {**0 | 1**}<br/>Specifica se il servizio server DNS viene visualizzato per primo nella zona GlobalNames o nelle zone locali quando risolve i nomi.<br/>**0**<br/>Il servizio server DNS tenta di risolvere i nomi eseguendo una query sulla zona GlobalNames prima di eseguire una query sulle zone per le quali è autorevole.<br/>**1**<br/>Il servizio server DNS tenta di risolvere i nomi eseguendo una query sulle zone per le quali è autorevole prima di eseguire una query sulla zona GlobalNames.<br/>**/globalqueryblocklist [[ <name> [ <name> ]...]**<br/>sostituisce l'elenco di blocchi di query globali corrente con un elenco dei nomi specificati. Se non si specifica alcun nome, questo comando Cancella l'elenco dei blocchi. Per impostazione predefinita, l'elenco Global query Block contiene gli elementi seguenti:<br/>-ISATAP<br/>-WPAD<br/>Il servizio server DNS può rimuovere uno o entrambi questi nomi quando viene avviato per la prima volta, se trova questi nomi in una zona esistente.<br/>**/IsSlave [0 | 1]**<br/>Determina il modo in cui il server DNS risponde quando le query inviate non ricevono alcuna risposta.<br/>**0**<br/>Specifica che il server DNS non è un subordinato (anche noto come *slave*). Se il server d'invio non risponde, il server DNS tenta di risolvere la query stessa. Si tratta dell'impostazione predefinita.<br/>**1**<br/>Specifica che il server DNS è un subordinato. Se il server d'invio non risponde, il server DNS termina la ricerca e invia un messaggio di errore al resolver.<br/>**/LocalNetPriority [0 | 1]**<br/>Determina l'ordine in cui vengono restituiti i record host quando il server DNS dispone di più record host con lo stesso nome.<br/>**0**<br/>Restituisce i record nell'ordine in cui sono elencati nel database DNS.<br/>**1**<br/>Restituisce prima i record con indirizzi di rete IP simili. Si tratta dell'impostazione predefinita.<br/>**/LogFileMaxSize [ <size> ]**<br/>Specifica la dimensione massima in byte (0x10000-0xFFFFFFFF) del file DNS. log. Quando il file raggiunge le dimensioni massime, il DNS sovrascrive gli eventi meno recenti. La dimensione predefinita è 0x400000, ovvero 4 megabyte (MB).<br/>**/LogFilePath. [ &lt; percorso + LogFileName &gt; ]**<br/>Specifica il percorso del file DNS. log. Il percorso predefinito è%systemroot%\System32\Dns\Dns.log. È possibile specificare un percorso diverso usando il formato *percorso + LogFileName*.<br/>**/logipfilterlist <IPaddress> [, <IPaddress> ...]**<br/>Specifica i pacchetti che vengono registrati nel file di log di debug. Le voci sono un elenco di indirizzi IP. Vengono registrati solo i pacchetti che passano da e verso gli indirizzi IP nell'elenco.<br/>**/LogLevel [ <Eventtype> ]**<br/>Determina i tipi di eventi che vengono registrati nel file DNS. log. Ogni tipo di evento è rappresentato da un numero esadecimale. Se si desidera più di un evento nel log, utilizzare l'aggiunta esadecimale per aggiungere i valori, quindi immettere la somma.<br/>**0x0**<br/>Il server DNS non crea un log. Questa è la voce predefinita.<br/>**0x10**<br/>Registra le query.<br/>**0x10**<br/>Registra le notifiche.<br/>**0x20**<br/>Registra gli aggiornamenti.<br/>**0xFE**<br/>Registra le transazioni non query.<br/>**0x100**<br/>Registra le transazioni delle domande.<br/>**0x200**<br/>Registra le risposte.<br/>**0x1000**<br/>Registra i pacchetti di invio.<br/>**0x2000**<br/>Registra i pacchetti di ricezione.<br/>**0x4000**<br/>Registra i pacchetti UDP (User Datagram Protocol).<br/>**0x8000**<br/>Registra i pacchetti Transmission Control Protocol (TCP).<br/>**0xFFFF**<br/>Registra tutti i pacchetti.<br/>**0x10000**<br/>Registra le transazioni di scrittura di Active Directory.<br/>**0x20000**<br/>Registra le transazioni di aggiornamento di Active Directory.<br/>**0x1000000**<br/>Registra i pacchetti completi.<br/>**0x80000000**<br/>Registra le transazioni write-through.<br/>**/maxcachesize**<br/>Specifica le dimensioni massime, in kilobyte (KB), della cache in memoria del server DNS.<br/>**/MaxCacheTtl [ <seconds> ]**<br/>Determina il numero di secondi (0x0-0xFFFFFFFF) che un record viene salvato nella cache. Se viene utilizzata l'impostazione **0x0** , il server DNS non memorizza nella cache i record. L'impostazione predefinita è **0x15180** (86.400 secondi o 1 giorno).<br/>**/MaxNegativeCacheTtl [ <seconds> ]**<br/>Specifica il numero di secondi (0x1-0xFFFFFFFF) che una voce che registra una risposta negativa a una query rimane archiviata nella cache DNS. L'impostazione predefinita è **0x384** (900 secondi).<br/>**/NameCheckFlag [0 | 1 | 2 | 3]**<br/>Specifica quale carattere standard viene usato durante la verifica dei nomi DNS.<br/>**0**<br/>USA i caratteri ANSI conformi alle RFC (Internet Engineering Task Force) richieste per i commenti.<br/>**1**<br/>Usa caratteri ANSI che non devono necessariamente essere conformi alle RFC IETF.<br/>**2**<br/>Usa caratteri multibyte con formato di trasformazione UCS 8 (UTF-8). Si tratta dell'impostazione predefinita.<br/>**3**<br/>USA tutti i caratteri.<br/>**/NoRecursion [0 | 1]**<br/>Determina se un server DNS esegue la risoluzione dei nomi ricorsiva.<br/>**0**<br/>Il server DNS esegue la risoluzione dei nomi ricorsiva se viene richiesto in una query. Si tratta dell'impostazione predefinita.<br/>**1**<br/>Il server DNS non esegue la risoluzione dei nomi ricorsiva.<br/>**/notcp**<br/>Questo parametro è obsoleto e non ha alcun effetto nelle versioni correnti di Windows Server.<br/>**/RecursionRetry [ <seconds> ]**<br/>Determina il numero di secondi (0x1-0xFFFFFFFF) che un server DNS attende prima di tentare di contattare un server remoto. L'impostazione predefinita è 0x3 (tre secondi). Questo valore deve essere aumentato quando si verifica la ricorsione su un collegamento di Wide Area Network lento (WAN).<br/>**/RecursionTimeout [ <seconds> ]**<br/>Determina il numero di secondi (0x1-0xFFFFFFFF) che un server DNS attende prima di sospendere i tentativi di contattare un server remoto. Le impostazioni variano da **0x1** a **0xFFFFFFFF**. L'impostazione predefinita è **0xF** (15 secondi). Questo valore deve essere aumentato quando si verifica la ricorsione su un collegamento WAN lento.<br/>**/RoundRobin [0 | 1]**<br/>Determina l'ordine in cui vengono restituiti i record host quando un server dispone di più record host con lo stesso nome.<br/>0<br/>Il server DNS non utilizza round robin. Restituisce invece il primo record per ogni query.<br/>**1**<br/>Il server DNS ruota tra i record restituiti dall'alto verso il basso nell'elenco dei record corrispondenti. Si tratta dell'impostazione predefinita.<br/>**/RpcProtocol [0x0 | 0x1 | 0x2 | 0x4 | 0xFFFFFFFF]**<br/>Specifica il protocollo utilizzato da RPC (Remote Procedure Call) quando stabilisce una connessione dal server DNS.<br/>**0x0**<br/>Disabilita RPC per DNS.<br/>**0x1**<br/>USA TCP/IP.<br/>**0x2**<br/>USA named pipe.<br/>**0x4**<br/>Usa la chiamata di procedura locale (LPC).<br/>**0xFFFFFFFF**<br/>Tutti i protocolli. Si tratta dell'impostazione predefinita.<br/>**/ScavengingInterval [ <hours> ]**<br/>Determina se la funzionalità di scavenging per il server DNS è abilitata e imposta il numero di ore (0x0-0xFFFFFFFF) tra i cicli di scavenging. L'impostazione predefinita è **0x0**, che disabilita lo scavenging per il server DNS. Un'impostazione maggiore di **0x0** consente lo scavenging per il server e imposta il numero di ore tra i cicli di scavenging.<br/>**/SecureResponses [0 | 1]**<br/>Determina se il DNS filtra i record salvati in una cache.<br/>**0**<br/>Salva tutte le risposte alle query del nome in una cache. Si tratta dell'impostazione predefinita.<br/>**1**<br/>Salva solo i record che appartengono allo stesso sottoalbero DNS a una cache.<br/>**/SendPort [ <port> ]**<br/>Specifica il numero di porta (0x0-0xFFFFFFFF) usato da DNS per inviare query ricorsive ad altri server DNS. L'impostazione predefinita è **0x0**, il che significa che il numero di porta è selezionato in modo casuale.<br/>**/serverlevelplugindll [ <Dllpath> ]**<br/>Specifica il percorso di un plug-in personalizzato. Quando *DllPath* specifica il nome di percorso completo di un plug-in del server DNS valido, il server DNS chiama le funzioni nel plug-in per risolvere le query dei nomi che non rientrano nell'ambito di tutte le zone ospitate localmente. Se un nome sottoposto a query è esterno all'ambito del plug-in, il server DNS esegue la risoluzione dei nomi utilizzando l'invio o la ricorsione, come configurato. Se *DllPath* non è specificato, il server DNS smette di usare un plug-in personalizzato se è stato configurato in precedenza un plug-in personalizzato.<br/>**/StrictFileParsing [0 | 1]**<br/>Determina un comportamento del server DNS&#39;s quando rileva un record errato durante il caricamento di una zona.<br/>**0**<br/>Il server DNS continua a caricare la zona anche se il server rileva un record errato. L'errore viene registrato nel log DNS. Si tratta dell'impostazione predefinita.<br/>**1**<br/>Il server DNS interrompe il caricamento della zona e registra l'errore nel log DNS.<br/>**/updateoptions<RecordValue>**<br/>Impedisce gli aggiornamenti dinamici dei tipi di record specificati. Se si desidera che più di un tipo di record non sia consentito nel log, utilizzare l'aggiunta esadecimale per aggiungere i valori, quindi immettere la somma.<br/>**0x0**<br/>Non limita i tipi di record.<br/>**0x1**<br/>Esclude i record di risorse di inizio di autorità (SOA).<br/>**0x2**<br/>Esclude i record di risorse del server di nomi (NS).<br/>**0x4**<br/>Esclude la delega dei record di risorse del server dei nomi (NS).<br/>**0x8**<br/>Esclude i record host del server.<br/>**0x100**<br/>Durante l'aggiornamento dinamico sicuro, esclude i record di risorse di avvio dell'autorità (SOA).<br/>**0x200**<br/>Durante l'aggiornamento dinamico sicuro, esclude i record di risorse del server del nome radice (NS).<br/>**0x30F**<br/>Durante l'aggiornamento dinamico standard, esclude i record di risorse del server dei nomi (NS), i record di risorse dell'autorità (SOA) e i record host del server. Durante l'aggiornamento dinamico sicuro, esclude i record di risorse del server dei nomi radice (NS) e i record di risorse dell'autorità di origine (SOA). Consente le deleghe e gli aggiornamenti dell'host del server.<br/>**0x400**<br/>Durante l'aggiornamento dinamico sicuro, esclude i record di risorse del server del nome di delega (NS).<br/>**0x800**<br/>Durante l'aggiornamento dinamico sicuro, esclude i record host del server.<br/>**0x1000000**<br/>Esclude i record del firmatario di delega (DS).<br/>**0x80000000**<br/>Disabilita l'aggiornamento dinamico DNS.<br/>**/WriteAuthorityNs [0 | 1]**<br/>Determina quando il server DNS scrive i record di risorse del server dei nomi (NS) nella sezione autorità di una risposta.<br/>**0**<br/>Scrive i record di risorse del server dei nomi (NS) nella sezione dell'autorità solo per i riferimenti. Questa impostazione è conforme a RFC 1034, i nomi di dominio concetti e funzionalità e con RFC 2181, chiarimenti sulla specifica DNS. Si tratta dell'impostazione predefinita.<br/>**1**<br/>Scrive i record di risorse del server dei nomi (NS) nella sezione Authority di tutte le risposte autorevoli riuscite.<br/>**/XfrConnectTimeout [ <seconds> ]**<br/>Determina il numero di secondi (0x0-0xFFFFFFFF) che un server DNS primario attende per una risposta di trasferimento dal server secondario. Il valore predefinito è **0x1E** (30 secondi). Dopo la scadenza del valore di timeout, la connessione viene terminata.<br/># # # # Sintassi a livello di zona<br/><code>dnscmd /config &lt;Parameters&gt;</code><br/># # # # dnscmd/config<br/>Modifica la configurazione della zona specificata.<br/>Parametri # # # # #<br/>**<Parameters>**<br/>Specificare un'impostazione, un nome di zona e, come opzione, un valore. I valori dei parametri usano questa sintassi: *parametro zonename* [*valore*]<br/>I valori dei parametri seguenti sono documentati nella parte rimanente di questa sezione:<br/>-   **/Aging**<br/>-   **/allownsrecordsautocreation**<br/>-   **/allowupdate**<br/>-   **/forwarderslave**<br/>-   **/forwardertimeout**<br/>-   **/NoRefreshInterval**<br/>-   **/refreshinterval**<br/>-   **/securesecondaries**<br/>**/Aging<ZoneName>**<br/>Abilita o Disabilita lo scavenging in una zona specifica.<br/>**/AllowNSRecordsAutoCreation <ZoneName> [ <Value> ]**<br/>Esegue l'override dell'impostazione di creazione di record di risorse del server DNS&#39;s (NS). I record di risorse del server dei nomi (NS) precedentemente registrati per questa zona non sono interessati. Pertanto, è necessario rimuoverli manualmente se non si desiderano.<br/>**/allowupdate<ZoneName>**<br/>Determina se la zona specificata accetta aggiornamenti dinamici.<br/>**/forwarderslave<ZoneName>**<br/>Sostituisce l'impostazione **/IsSlave** del server DNS.<br/>**/forwardertimeout<ZoneName>**<br/>Determina il numero di secondi di attesa di una zona DNS per la risposta di un server d'invio prima di provare un altro server d'altro. Questo valore esegue l'override del valore impostato a livello di server.<br/>**/NoRefreshInterval<ZoneName>**<br/>Imposta un intervallo di tempo per una zona durante la quale nessun aggiornamento può aggiornare in modo dinamico i record DNS in una zona specificata.<br/>**/refreshinterval<ZoneName>**<br/>Imposta un intervallo di tempo per una zona durante la quale gli aggiornamenti possono aggiornare in modo dinamico i record DNS in una zona specificata.<br/>**/securesecondaries<ZoneName>**<br/>Determina quali server secondari possono ricevere gli aggiornamenti della zona dal server master per questa zona.<br/># # # # Osservazioni<br/>-Il nome della zona deve essere specificato solo per i parametri a livello di zona.<br/>### <a name=BKMK_4></a>/CreateBuiltinDirectoryPartitions dnscmd<br/>Crea una partizione di directory applicativa DNS. Quando si installa DNS, viene creata una partizione di directory applicativa per il servizio a livello di foresta e di dominio. Usare questo comando per creare partizioni di directory applicative DNS eliminate o mai create. Senza parametri, questo comando crea una partizione di directory DNS predefinita per il dominio.<br/>Sintassi # # # #<br/><code>dnscmd [&lt;ServerName&gt;] /createbuiltindirectorypartitions [/forest] [/alldomains]</code><br/>Parametri # # # # #<br/>**<ServerName>**<br/>Specifica il server DNS da gestire, rappresentato da indirizzo IP, FQDN o nome host. Se questo parametro viene omesso, viene utilizzato il server locale.<br/>**/Forest**<br/>Crea una partizione di directory DNS per la foresta.<br/>**/alldomains**<br/>Crea partizioni DNS per tutti i domini della foresta.<br/>### <a name=BKMK_5></a>/CreateDirectoryPartition dnscmd<br/>Crea una partizione di directory applicativa DNS. Quando si installa DNS, viene creata una partizione di directory applicativa per il servizio a livello di foresta e di dominio. Questa operazione consente di creare partizioni di directory applicative DNS aggiuntive.<br/>Sintassi # # # #<br/><code>dnscmd [&lt;ServerName&gt;] /createdirectorypartition &lt;PartitionFQDN&gt;</code><br/>Parametri # # # # #<br/>**<ServerName>**<br/>Specifica il server DNS da gestire, rappresentato da indirizzo IP, FQDN o nome host. Se questo parametro viene omesso, viene utilizzato il server locale.<br/>**<PartitionFQDN>**<br/>Nome di dominio completo della partizione di directory applicativa DNS che verrà creata.<br/>### <a name=BKMK_6></a>/DeleteDirectoryPartition dnscmd<br/>rimuove una partizione di directory applicativa DNS esistente.<br/>Sintassi # # # #<br/><code>dnscmd [&lt;ServerName&gt;] /deletedirectorypartition &lt;PartitionFQDN&gt;</code><br/>Parametri # # # # #<br/>**<ServerName>**<br/>Specifica il server DNS da gestire, rappresentato da indirizzo IP, FQDN o nome host. Se questo parametro viene omesso, viene utilizzato il server locale.<br/>**<PartitionFQDN>**<br/>Nome di dominio completo della partizione di directory applicativa DNS che verrà rimossa.<br/>### <a name=BKMK_7></a>/DirectoryPartitionInfo dnscmd<br/>elenca le informazioni su una partizione di directory applicativa DNS specificata.<br/>Sintassi # # # #<br/><code>dnscmd [&lt;ServerName&gt;] /directorypartitioninfo &lt;PartitionFQDN&gt; [/detail]</code><br/>Parametri # # # # #<br/>**<ServerName>**<br/>Specifica il server DNS da gestire, rappresentato da indirizzo IP, FQDN o nome host. Se questo parametro viene omesso, viene utilizzato il server locale.<br/>**<PartitionFQDN>**<br/>Nome di dominio completo della partizione di directory applicativa DNS.<br/>**/Detail**<br/>elenca tutte le informazioni sulla partizione di directory applicativa.<br/>### <a name=BKMK_8></a>/EnlistDirectoryPartition dnscmd<br/>aggiunge il server DNS al set di repliche&#39;s della partizione di directory specificata.<br/>Sintassi # # # #<br/><code>dnscmd [&lt;ServerName&gt;] /enlistdirectorypartition &lt;PartitionFQDN&gt;</code><br/>Parametri # # # # #<br/>**<ServerName>**<br/>Specifica il server DNS da gestire, rappresentato da indirizzo IP, FQDN o nome host. Se questo parametro viene omesso, viene utilizzato il server locale.<br/>**<PartitionFQDN>**<br/>Nome di dominio completo della partizione di directory applicativa DNS.<br/>### <a name=BKMK_9></a>/EnumDirectoryPartitions dnscmd<br/>elenca le partizioni di directory applicative DNS per il server specificato.<br/>Sintassi # # # #<br/><code>dnscmd [&lt;ServerName&gt;] /enumdirectorypartitions [/custom]</code><br/>Parametri # # # # #<br/>**<ServerName>**<br/>Specifica il server DNS da gestire, rappresentato da indirizzo IP, FQDN o nome host. Se questo parametro viene omesso, viene utilizzato il server locale.<br/>**/custom**<br/>elenca solo le partizioni di directory create dall'utente.<br/>### <a name=BKMK_10></a>/EnumRecords dnscmd<br/>elenca i record di risorse di un nodo specificato in una zona DNS.<br/>Sintassi # # # #<br/><code>dnscmd [&lt;ServerName&gt;] /enumrecords &lt;ZoneName&gt; &lt;NodeName&gt; [/type &lt;RRtype&gt; &lt;Rrdata&gt;] [/authority] [/glue] [/additional] [/node | /child | /startchild&lt;ChildName&gt;] [/continue | /detail]</code><br/>Parametri # # # # #<br/>**<ServerName>**<br/>Specifica il server DNS che si prevede di gestire, rappresentato da indirizzo IP, FQDN o nome host. Se questo parametro viene omesso, viene utilizzato il server locale.<br/>**/enumrecords**<br/>elenca i record di risorse nella zona specificata.<br/>**<ZoneName>**<br/>Specifica il nome della zona a cui appartengono i record di risorse.<br/>**<NodeName>**<br/>Specifica il nome del nodo dei record di risorse.<br/>**/Type <RRtype><Rrdata>**<br/>Specifica il tipo di record di risorsa da elencare e il tipo di dati previsto:<br/>**<RRtype>**<br/>Specifica il tipo di record di risorse da elencare.<br/>**<Rrdata>**<br/>Specifica il tipo di dati previsto per il record.<br/>**/authority**<br/>Include dati autorevoli.<br/>**/glue**<br/>Include i dati di Glue.<br/>**/additional**<br/>Include tutte le informazioni aggiuntive sui record di risorse elencati.<br/>**{/node |/Child |/StartChild <ChildName> }**<br/>Filtra o aggiunge informazioni alla visualizzazione del record di risorse:<br/>**/node**<br/>elenca solo i record di risorse del nodo specificato.<br/>**/Child**<br/>elenca solo i record di risorse di un dominio figlio specificato.<br/>**/startchild<ChildName>**<br/>Inizia l'elenco nel dominio figlio specificato.<br/>**/continue | /Detail**<br/>Specifica la modalità di visualizzazione dei dati restituiti.<br/>**/continue**<br/>elenca solo i record di risorse con il tipo e i dati.<br/>**/Detail**<br/>elenca tutte le informazioni sui record di risorse.<br/># # # # Utilizzo di esempio<br/><code>dnscmd /enumrecords test.contoso.com test /additional</code><br/>### <a name=BKMK_11></a>/EnumZones dnscmd<br/>elenca le zone presenti nel server DNS specificato.<br/>Sintassi # # # #<br/><code>dnscmd [&lt;ServerName&gt;] /enumzones [/primary | /secondary | /forwarder | /stub | /cache | /auto-created] [/forward | /reverse | /ds | /file] [/domaindirectorypartition | /forestdirectorypartition | /customdirectorypartition | /legacydirectorypartition | /directorypartition &lt;PartitionFQDN&gt;]</code><br/>Parametri # # # # #<br/>**<ServerName>**<br/>Specifica il server DNS da gestire, rappresentato da indirizzo IP, FQDN o nome host. Se questo parametro viene omesso, viene utilizzato il server locale.<br/>**/Primary | /Secondary | /Forwarder | /Stub | /cache | /auto-created**<br/>Filtra i tipi di zone da visualizzare:<br/>**/Primary**<br/>elenca tutte le zone che sono zone primarie standard o le zone integrate in Active Directory.<br/>**/secondary**<br/>elenca tutte le zone secondarie standard.<br/>**/forwarder**<br/>elenca le zone che inviano query non risolte a un altro server DNS.<br/>**/Stub**<br/>elenca tutte le zone stub.<br/>**/cache**<br/>elenca solo le zone caricate nella cache.<br/>**/auto-created**<br/>elenca le zone create automaticamente durante l'installazione del server DNS.<br/>**/Forward | /Reverse | /DS | /file**<br/>Specifica filtri aggiuntivi dei tipi di zone da visualizzare:<br/>**/Forward**<br/>elenca le zone di ricerca diretta.<br/>**/Reverse**<br/>elenca le zone di ricerca inversa.<br/>**/DS**<br/>elenca le zone integrate in Active Directory.<br/>**/file**<br/>elenca le zone supportate da file.<br/>**/domaindirectorypartition**<br/>elenca le zone archiviate nella partizione di directory del dominio.<br/>**/forestdirectorypartition**<br/>elenca le zone archiviate nella partizione di directory dell'applicazione DNS della foresta.<br/>**/customdirectorypartition**<br/>elenca tutte le zone archiviate in una partizione di directory applicativa definita dall'utente.<br/>**/legacydirectorypartition**<br/>elenca tutte le zone archiviate nella partizione di directory del dominio.<br/>**/DirectoryPartition<PartitionFQDN>**<br/>elenca tutte le zone archiviate nella partizione di directory specificata.<br/># # # # Osservazioni<br/>-I parametri **EnumZones** fungono da filtri nell'elenco di zone. Se non viene specificato alcun filtro, viene restituito un elenco completo di zone. Quando si specifica un filtro, solo le zone che soddisfano i criteri del filtro&#39;s sono incluse nell'elenco di zone restituito.<br/># # # # Esempio<br/>Vedere <a href = https://technet.microsoft.com/library/cc784399(v=ws.10).aspx Data-RAW-Source =[esempio 2: visualizzare un elenco completo di zone in un server DNS](https://technet.microsoft.com/library/cc784399(v=ws.10).aspx)>esempio 2: visualizzare un elenco completo di zone in un server DNS </a> o <a href = https://technet.microsoft.com/library/cc784399(v=ws.10).aspx Data-RAW-Source =[Example 3: visualizzare un elenco di zone create in un](https://technet.microsoft.com/library/cc784399(v=ws.10).aspx) server DNS>esempio 3: visualizzare un elenco di zone create in un server DNS </a> .<br/>### <a name=BKMK_25a></a>/ExportSettings dnscmd<br/>consente di creare un file di testo in cui sono elencati i dettagli di configurazione di un server DNS. Il file di testo è denominato DnsSettings. txt. Si trova nella directory%SystemRoot%\System32\Dns del server.<br/>Sintassi # # # #<br/><code>dnscmd [&lt;ServerName&gt;] /exportsettings</code><br/>Parametri # # # # #<br/>**<ServerName>**<br/>Specifica il server DNS da gestire, rappresentato dalla sintassi del computer locale, dall'indirizzo IP, dal nome di dominio completo o dal nome host. Se questo parametro viene omesso, viene utilizzato il server locale.<br/># # # # Osservazioni<br/>-È possibile usare le informazioni contenute nel file creato da **dnscmd/ExportSettings** per risolvere i problemi di configurazione o per assicurarsi di avere configurato più server in modo identico.<br/>### <a name=BKMK_12></a>/info dnscmd<br/>Visualizza le impostazioni dalla sezione DNS del registro di sistema del server specificato: **HKEY_LOCAL_MACHINE \system\currentcontrolset\services\dns\parameters**<br/>Sintassi # # # #<br/><code>dnscmd [&lt;ServerName&gt;] /info [&lt;Setting&gt;]</code><br/>Parametri # # # # #<br/>**<ServerName>**<br/>Specifica il server DNS da gestire, rappresentato da indirizzo IP, FQDN o nome host. Se questo parametro viene omesso, viene utilizzato il server locale.<br/>**<Setting>**<br/>Qualsiasi impostazione restituita dal comando **info** può essere specificata singolarmente. Se non si specifica un'impostazione, viene restituito un report delle impostazioni comuni.<br/># # # # Osservazioni<br/>-Questo comando Visualizza le impostazioni del registro di sistema a livello di server DNS. Per visualizzare le impostazioni del registro di sistema a livello di area, usare il comando <a href=#BKMK_26 data-raw-source=[zoneinfo](#BKMK_26)>zoneinfo</a> . Per visualizzare un elenco delle impostazioni che possono essere visualizzate con questo comando, vedere la descrizione della <a href=#BKMK_3 data-raw-source=[config](#BKMK_3)>configurazione</a> .<br/># # # # Esempio<br/>Vedere <a href = https://technet.microsoft.com/library/cc784399(v=ws.10).aspx Data-RAW-Source =[esempio 4: visualizzare l'impostazione Slave da un server DNS](https://technet.microsoft.com/library/cc784399(v=ws.10).aspx)>esempio 4: visualizzare l'impostazione Slave da un server DNS </a> o <a href = https://technet.microsoft.com/library/cc784399(v=ws.10).aspx Data-RAW-Source =[Example 5: visualizzare l'impostazione RecursionTimeout da un server DNS](https://technet.microsoft.com/library/cc784399(v=ws.10).aspx)>esempio 5: visualizzare l'impostazione RecursionTimeout da un server DNS </a> .<br/>### <a name=BKMK_29a></a>/ipvalidate dnscmd<br/>Verifica se un indirizzo IP identifica un server DNS funzionante o se il server DNS può fungere da server d'avanzamento, da server di suggerimento radice o da server master per una zona specifica.<br/>Sintassi # # # #<br/><code>dnscmd [&lt;ServerName&gt;] /ipvalidate &lt;Context&gt; [&lt;ZoneName&gt;] [[&lt;IPaddress&gt;]]</code><br/>Parametri # # # # #<br/>**<ServerName>**<br/>Specifica il server DNS da gestire, rappresentato dalla sintassi del computer locale, dall'indirizzo IP, dal nome di dominio completo o dal nome host. Se questo parametro viene omesso, viene utilizzato il server locale.<br/>**<Context>**<br/>Specifica il tipo di test da eseguire. È possibile specificare uno dei test seguenti:<br/>-   **/dnsservers** verifica che i computer con gli indirizzi specificati siano server DNS funzionanti.<br/>-   **/forwarders** verifica che gli indirizzi specificati identifichino i server DNS che possono fungere da server d'inoltri.<br/>-   **/roothints** verifica che gli indirizzi specificati identifichino i server DNS che possono fungere da server dei nomi di hint radice.<br/>-   **/zonemasters** verifica che gli indirizzi specificati identifichino i server DNS che sono server master per *zonename*.<br/>**<ZoneName>**<br/>Identifica la zona. Usare questo parametro con il parametro **/zonemasters** .<br/>**<IPaddress>**<br/>Specifica gli indirizzi IP testati dal comando.<br/># # # # Utilizzo di esempio<br/><pre>dnscmd dnssvr1.contoso.com /ipvalidate /dnsservers 10.0.0.1 10.0.0.2
dnscmd dnssvr1.contoso.com /ipvalidate /zonemasters corp.contoso.com 10.0.0.2</pre><br/>### <a name=BKMK_13></a>/nodedelete dnscmd<br/>Elimina tutti i record per un host specificato.<br/>Sintassi # # # #<br/><code>dnscmd [&lt;ServerName&gt;] /nodedelete &lt;ZoneName&gt; &lt;NodeName&gt; [/tree] [/f]</code><br/>Parametri # # # # #<br/>**<ServerName>**<br/>Specifica il server DNS da gestire, rappresentato da indirizzo IP, FQDN o nome host. Se questo parametro viene omesso, viene utilizzato il server locale.<br/>**<ZoneName>**<br/>Specifica il nome della zona.<br/>**<NodeName>**<br/>Specifica il nome host del nodo da eliminare.<br/>**/Tree**<br/>Elimina tutti i record figlio.<br/>**/f**<br/>esegue il comando senza chiedere conferma.<br/># # # # Esempio<br/>Vedere <a href = https://technet.microsoft.com/library/cc784399(v=ws.10).aspx Data-RAW-Source =[esempio 6: eliminare i record da un nodo](https://technet.microsoft.com/library/cc784399(v=ws.10).aspx)>esempio 6: eliminare i record da un nodo </a> .<br/>### <a name=BKMK_14></a>/RecordAdd dnscmd<br/>aggiunge un record a una zona specificata in un server DNS.<br/>Sintassi # # # #<br/><code>dnscmd [&lt;ServerName&gt;] /recordadd &lt;ZoneName&gt; &lt;NodeName&gt; &lt;RRtype&gt; &lt;Rrdata&gt;</code><br/>Parametri # # # # #<br/>**<ServerName>**<br/>Specifica il server DNS da gestire, rappresentato dalla sintassi del computer locale, dall'indirizzo IP, dal nome di dominio completo o dal nome host. Se questo parametro viene omesso, viene utilizzato il server locale.<br/>**<ZoneName>**<br/>Specifica l'area in cui risiede il record.<br/>**<NodeName>**<br/>Specifica un nodo specifico nella zona.<br/>**<RRtype>**<br/>Specifica il tipo di record da aggiungere.<br/>**<Rrdata>**<br/>Specifica il tipo di dati previsto.<br/>&gt; [!NOTE]<br/>&gt;Quando si aggiunge un record, assicurarsi di utilizzare il tipo di dati e il formato dati corretti. Per un elenco dei tipi di record di risorse e dei tipi di dati appropriati, vedere <un riferimento ai record di risorse href = https://technet.microsoft.com/library/cc758321(v=ws.10).aspx Data-RAW-source =>record di risorse[Resource records reference](https://technet.microsoft.com/library/cc758321(v=ws.10).aspx) </a> .<br/># # # # Utilizzo di esempio<br/><pre>dnscmd dnssvr1.contoso.com /recordadd test A 10.0.0.5
dnscmd /recordadd test.contoso.com test MX 10 mailserver.test.contoso.com</pre><br/>### <a name=BKMK_15></a>/RecordDelete dnscmd<br/>Elimina un record di risorse da una zona specificata.<br/>Sintassi # # # #<br/><code>dnscmd &lt;ServerName&gt; /recorddelete &lt;ZoneName&gt; &lt;NodeName&gt; &lt;RRtype&gt; &lt;Rrdata&gt;[/f]</code><br/>Parametri # # # # #<br/>**<ServerName>**<br/>Specifica il server DNS da gestire, rappresentato da indirizzo IP, FQDN o nome host. Se questo parametro viene omesso, viene utilizzato il server locale.<br/>**<ZoneName>**<br/>Specifica l'area in cui risiede il record di risorse.<br/>**<NodeName>**<br/>Specifica il nome dell'host.<br/>**<RRtype>**<br/>Specifica il tipo di record di risorsa da eliminare.<br/>**<Rrdata>**<br/>Specifica il tipo di dati previsto.<br/>**/f**<br/>esegue il comando senza chiedere conferma:<br/>-Poiché i nodi possono avere più di un record di risorse, questo comando richiede di essere molto specifici del tipo di record di risorse che si vuole eliminare.<br/>-Se si specifica un tipo di dati e non si specifica un tipo di dati del record di risorse, vengono eliminati tutti i record con quel tipo di dati specifico per il nodo specificato.<br/># # # # Utilizzo di esempio<br/><code>dnscmd /recorddelete test.contoso.com test MX 10 mailserver.test.contoso.com</code><br/>### <a name=BKMK_16></a>/ResetForwarders dnscmd<br/>Seleziona o Reimposta gli indirizzi IP a cui il server DNS invia le query DNS quando non è in grado di risolverli localmente.<br/>Sintassi # # # #<br/><code>dnscmd [&lt;ServerName&gt;] /resetforwarders [&lt;IPaddress&gt; [,&lt;IPaddress&gt;]...][/timeout &lt;timeOut&gt;] [/slave|/noslave]</code><br/>Parametri # # # # #<br/>**<ServerName>**<br/>Specifica il server DNS da gestire, rappresentato da indirizzo IP, FQDN o nome host. Se questo parametro viene omesso, viene utilizzato il server locale.<br/>**<IPaddress>**<br/>elenca gli indirizzi IP a cui il server DNS invia query non risolte.<br/>**/timeout<timeOut>**<br/>Imposta il numero di secondi di attesa del server DNS per una risposta dal server d'invio. Per impostazione predefinita, questo valore è cinque secondi.<br/>**/slave |/NoSlave**<br/>Determina se il server DNS esegue le proprie query iterative se il server d'avanzamento non riesce a risolvere una query:<br/>**/slave**<br/>Impedisce al server DNS di eseguire le proprie query iterative se la risoluzione di una query non riesce.<br/>**/NoSlave**<br/>Consente al server DNS di eseguire le proprie query iterative se il server d'avanzamento non riesce a risolvere una query. Si tratta dell'impostazione predefinita.<br/># # # # Osservazioni<br/>Per impostazione predefinita, un server DNS esegue query iterative quando non è possibile risolvere una query.<br/>-L'impostazione degli indirizzi IP tramite il comando **ResetForwarders** fa sì che il server DNS esegua query ricorsive sui server DNS negli indirizzi IP specificati. Se i server d'inoltri non risolvono la query, il server DNS potrà eseguire le proprie query iterative.<br/>-Se si usa il parametro **/slave** , il server DNS non esegue le proprie query iterative. Questo significa che il server DNS invia le query non risolte solo ai server DNS nell'elenco e non tenta di eseguire query iterative se non vengono risolte dai server d'inoltri. È più efficiente impostare un indirizzo IP come server di riferimento per un server DNS. È possibile usare il comando **ResetForwarders** per i server interni in una rete per inviare le query non risolte a un server DNS che dispone di una connessione esterna.<br/>-l'inserimento di un indirizzo IP di un server d'inoltri due volte fa in modo che il server DNS tenti di eseguire due volte il server.<br/># # # # Utilizzo di esempio<br/><pre>dnscmd dnssvr1.contoso.com /resetforwarders 10.0.0.1 /timeout 7 /slave
dnscmd dnssvr1.contoso.com /resetforwarders /noslave</pre><br/>### <a name=BKMK_17></a>/ResetListenAddresses dnscmd<br/>Specifica gli indirizzi IP in un server che è in ascolto delle richieste del client DNS.<br/>Sintassi # # # #<br/><code>dnscmd [&lt;ServerName&gt;] /resetlistenaddresses [&lt;listenaddress&gt;]</code><br/>Parametri # # # # #<br/>**<ServerName>**<br/>Specifica il server DNS da gestire, rappresentato da indirizzo IP, FQDN o nome host. Se questo parametro viene omesso, viene utilizzato il server locale.<br/>**<listenaddress>**<br/>Specifica un indirizzo IP nel server DNS che è in ascolto delle richieste del client DNS. Se non viene specificato alcun indirizzo di ascolto, tutti gli indirizzi IP nel server restano in ascolto delle richieste client.<br/># # # # Osservazioni<br/>-Per impostazione predefinita, tutti gli indirizzi IP in un server DNS sono in ascolto delle richieste DNS del client.<br/># # # # Utilizzo di esempio<br/><code>dnscmd dnssvr1.contoso.com /resetlistenaddresses 10.0.0.1</code><br/>### <a name=BKMK_18></a>/StartScavenging dnscmd<br/>Indica a un server DNS di tentare una ricerca immediata di record di risorse non aggiornati in un server DNS specificato.<br/>Sintassi # # # #<br/><code>dnscmd [&lt;ServerName&gt;] /startscavenging</code><br/># # # # Parametro<br/>**<ServerName>**<br/>Specifica il server DNS da gestire, rappresentato da indirizzo IP, FQDN o nome host. Se questo parametro viene omesso, viene utilizzato il server locale.<br/># # # # Osservazioni<br/>-Il completamento di questo comando avvia immediatamente uno scavenging.<br/>-Anche se il comando per avviare lo scavenging viene completato correttamente, lo scavenging non viene avviato a meno che non vengano soddisfatte le condizioni preliminari seguenti:<br/>    -Lo scavenging è abilitato sia per il server che per la zona.<br/>    -La zona viene avviata.<br/>    -I record delle risorse hanno un timestamp.<br/>-per informazioni su come abilitare lo scavenging per il server, vedere il parametro **ScavengingInterval** in sintassi a livello di server nella sezione <a href=#BKMK_3 data-raw-source=[config](#BKMK_3)>config</a> .<br/>-per informazioni su come abilitare lo scavenging per la zona, vedere il parametro **Aging** sotto la sintassi a livello di zona nella sezione <a href=#BKMK_3 data-raw-source=[config](#BKMK_3)>config</a> .<br/>-per informazioni su come avviare una zona sospesa, vedere la sezione <a href=#BKMK_35 data-raw-source=[zoneresume](#BKMK_35)>ZoneResume</a> .<br/>per informazioni su come controllare i record di risorse per un timestamp, vedere la sezione <a href=#BKMK_1 data-raw-source=[ageallrecords](#BKMK_1)>AgeAllRecords</a> .<br/>-Se lo scavenging non riesce, non viene visualizzato alcun messaggio di avviso.<br/># # # # Utilizzo di esempio<br/><code>dnscmd dnssvr1.contoso.com /startscavenging</code><br/>### <a name=BKMK_19></a>/Statistics dnscmd<br/>Visualizza o cancella i dati per un server DNS specificato.<br/>Sintassi # # # #<br/><code>dnscmd [&lt;ServerName&gt;] /statistics [&lt;StatID&gt;] [/clear]</code><br/>Parametri # # # # #<br/>**<ServerName>**<br/>Specifica il server DNS da gestire, rappresentato da indirizzo IP, FQDN o nome host. Se questo parametro viene omesso, viene utilizzato il server locale.<br/>**<StatID>**<br/>Specifica la statistica o la combinazione di statistiche da visualizzare. Per identificare una statistica, viene usato un numero di identificazione. Se non viene specificato alcun numero ID statistica, vengono visualizzate tutte le statistiche.<br/>Di seguito è riportato un elenco di numeri che è possibile specificare e la statistica corrispondente che visualizza:<br/>**00000001**<br/>time<br/>**00000002**<br/>query<br/>**00000004**<br/>Query2<br/>**00000008**<br/>Recurse<br/>**00000010**<br/>Master<br/>**00000020**<br/>Secondario<br/>**00000040**<br/>WINS<br/>**00000100**<br/>Aggiornamento<br/>**00000200**<br/>SkwanSec<br/>**00000400**<br/>DS<br/>**00010000**<br/>Memoria<br/>**00100000**<br/>PacketMem<br/>**00040000**<br/>DBASE<br/>**00080000**<br/>Record<br/>**00200000**<br/>NbstatMem<br/>**/Clear**<br/>Reimposta il contatore delle statistiche specificato su zero.<br/># # # # Osservazioni<br/>-Il comando **Statistics** Visualizza i contatori che iniziano sul server DNS quando viene avviato o ripreso.<br/>Esempi di # # # #<br/>Vedere <a href = https://technet.microsoft.com/library/cc784399(v=ws.10).aspx Data-RAW-Source =[esempio 7: visualizzare le statistiche temporali per un server DNS](https://technet.microsoft.com/library/cc784399(v=ws.10).aspx)>esempio 7: visualizzare le statistiche temporali per un server DNS </a> o <un href = https://technet.microsoft.com/library/cc784399(v=ws.10).aspx Data-RAW-Source =[esempio 8: visualizzare le statistiche di NbstatMem per un server DNS](https://technet.microsoft.com/library/cc784399(v=ws.10).aspx)>esempio 8: visualizzare </a> le statistiche di NbstatMem per un server DNS.<br/>### <a name=BKMK_20></a>/UnenlistDirectoryPartition dnscmd<br/>rimuove il server DNS dal set di repliche della partizione di directory&#39;s specificato.<br/>Sintassi # # # #<br/><code>dnscmd [&lt;ServerName&gt;] /unenlistdirectorypartition &lt;PartitionFQDN&gt;</code><br/>Parametri # # # # #<br/>**<ServerName>**<br/>Specifica il server DNS da gestire, rappresentato da indirizzo IP, FQDN o nome host. Se questo parametro viene omesso, viene utilizzato il server locale.<br/>**<PartitionFQDN>**<br/>Nome di dominio completo della partizione di directory applicativa DNS che verrà rimossa.<br/>### <a name=BKMK_21></a>/writebackfiles dnscmd<br/>Controlla la memoria del server DNS per le modifiche e le scrive nell'archivio permanente.<br/>Sintassi # # # #<br/><code>dnscmd [&lt;ServerName&gt;] /writebackfiles [&lt;ZoneName&gt;]</code><br/>Parametri # # # # #<br/>**<ServerName>**<br/>Specifica il server DNS da gestire, rappresentato da indirizzo IP, FQDN o nome host. Se questo parametro viene omesso, viene utilizzato il server locale.<br/>**<ZoneName>**<br/>Specifica il nome della zona da aggiornare.<br/># # # # Osservazioni<br/>-Il comando **writebackfiles** Aggiorna tutte le zone Dirty o una zona specificata. Una zona è sporca quando sono presenti modifiche nella memoria che non sono state ancora scritte nell'archivio permanente. Si tratta di un'operazione a livello di server che controlla tutte le zone. È possibile specificare una zona in questa operazione oppure è possibile usare l'operazione <a href=#BKMK_37 data-raw-source=[zonewriteback](#BKMK_37)>zonewriteback</a> .<br/># # # # Utilizzo di esempio<br/><code>dnscmd dnssvr1.contoso.com /writebackfiles</code><br/>### <a name=BKMK_22></a>/ZoneAdd dnscmd<br/>aggiunge una zona al server DNS.<br/>Sintassi # # # #<br/><code>dnscmd [&lt;ServerName&gt;] /zoneadd &lt;ZoneName&gt; &lt;Zonetype&gt; [/dp &lt;FQDN&gt;| {/domain|/enterprise|/legacy}]</code><br/>Parametri # # # # #<br/>**<ServerName>**<br/>Specifica il server DNS da gestire, rappresentato da indirizzo IP, FQDN o nome host. Se questo parametro viene omesso, viene utilizzato il server locale.<br/>**<ZoneName>**<br/>Specifica il nome della zona.<br/>**<Zonetype>**<br/>Specifica il tipo di zona da creare. Ogni tipo di zona ha parametri obbligatori diversi:<br/>**/DsPrimary**<br/>Crea una zona integrata di Active Directory.<br/>**/file/Primary<FileName>**<br/>Crea una zona primaria standard e specifica il nome del file in cui vengono archiviate le informazioni sulla zona.<br/>**/Secondary <MasterIPaddress> [ <MasterIPaddress> ...]**<br/>Crea una zona secondaria standard.<br/>**/Stub <MasterIPaddress> [ <MasterIPaddress> ...]/file<FileName>**<br/>Crea una zona stub di cui è stato eseguito il backup in un file.<br/>**/DsStub <MasterIPaddress> [ <MasterIPaddress> ...]**<br/>Crea una zona stub integrata di Active Directory.<br/>**/Forwarder <MasterIPaddress> [ <MasterIPaddress> ].../file<FileName>**<br/>Specifica che la zona creata Invia le query non risolte a un altro server DNS.<br/>**/DsForwarder**<br/>Specifica che l'area integrata di Active Directory che ha creato l'oggetto invia le query non risolte a un altro server DNS.<br/>**/DP <FQDN> {/Domain |/Enterprise |/legacy}**<br/>Specifica la partizione di directory in cui archiviare la zona.<br/>**<FQDN>**<br/>Specifica il nome di dominio completo della partizione di directory.<br/>**/Domain**<br/>Archivia la zona nella partizione di directory del dominio.<br/>**/enterprise**<br/>Archivia la zona nella partizione di directory aziendale.<br/>**/Legacy**<br/>Archivia la zona in una partizione di directory legacy.<br/># # # # Osservazioni<br/>-Se si specifica un tipo di zona di **/Forwarder** o **/DsForwarder** , viene creata una zona che esegue l'invio condizionale.<br/># # # # Utilizzo di esempio<br/><pre>dnscmd dnssvr1.contoso.com /zoneadd test.contoso.com /dsprimary
dnscmd dnssvr1.contoso.com /zoneadd secondtest.contoso.com /secondary 10.0.0.2</pre><br/>### <a name=BKMK_23></a>/ZoneChangeDirectoryPartition dnscmd<br/>modifica la partizione di directory in cui risiede la zona specificata.<br/>Sintassi # # # #<br/><code>dnscmd [&lt;ServerName&gt;] /zonechangedirectorypartition &lt;ZoneName&gt;] {[&lt;NewPartitionName&gt;] | [&lt;Zonetype&gt;] }</code><br/>Parametri # # # # #<br/>**<ServerName>**<br/>Specifica il server DNS da gestire, rappresentato da indirizzo IP, FQDN o nome host. Se questo parametro viene omesso, viene utilizzato il server locale.<br/>**<ZoneName>**<br/>Nome di dominio completo della partizione di directory corrente in cui risiede la zona.<br/>**<NewPartitionName>**<br/>Nome di dominio completo della partizione di directory in cui verrà spostata la zona.<br/>**<Zonetype>**<br/>Specifica il tipo di partizione di directory in cui verrà spostata la zona.<br/>**/Domain**<br/>Sposta la zona nella partizione di directory del dominio incorporata.<br/>**/Forest**<br/>Sposta la zona nella partizione di directory della foresta incorporata.<br/>**/Legacy**<br/>Sposta la zona nella partizione di directory creata per i controller di dominio precedenti ad Active Directory. Queste partizioni di directory non sono necessarie per la modalità nativa.<br/>### <a name=BKMK_24></a>/ZoneDelete dnscmd<br/>Elimina una zona specificata.<br/>Sintassi # # # #<br/><code>dnscmd [&lt;ServerName&gt;] /zonedelete &lt;ZoneName&gt; [/dsdel] [/f]</code><br/>Parametri # # # # #<br/>**<ServerName>**<br/>Specifica il server DNS da gestire, rappresentato da indirizzo IP, FQDN o nome host. Se questo parametro viene omesso, viene utilizzato il server locale.<br/>**<ZoneName>**<br/>Specifica il nome della zona da eliminare.<br/>**/dsdel**<br/>Elimina la zona da servizi di dominio Active Directory.<br/>**/f**<br/>Esegue il comando senza chiedere conferma.<br/># # # # Esempio<br/>Vedere <a href = https://technet.microsoft.com/library/cc784399(v=ws.10).aspx Data-RAW-Source =[esempio 9: eliminare una zona da un server DNS](https://technet.microsoft.com/library/cc784399(v=ws.10).aspx)>esempio 9: eliminare una zona da un server DNS </a> .<br/>### <a name=BKMK_25></a>/zoneexport dnscmd<br/>Crea un file di testo che elenca i record di risorse di una zona specificata.<br/>Sintassi # # # #<br/><code>dnscmd [&lt;ServerName&gt;] /zoneexport &lt;ZoneName&gt; &lt;ZoneExportFile&gt;</code><br/>Parametri # # # # #<br/>**<ServerName>**<br/>Specifica il server DNS da gestire, rappresentato dalla sintassi del computer locale, dall'indirizzo IP, dal nome di dominio completo o dal nome host. Se questo parametro viene omesso, viene utilizzato il server locale.<br/>**<ZoneName>**<br/>Specifica il nome della zona.<br/>**<ZoneExportFile>**<br/>Specifica il nome del file da creare.<br/># # # # Osservazioni<br/>-L'operazione **zoneexport** crea un file di record di risorse per una zona integrata di Active Directory per la risoluzione dei problemi. Per impostazione predefinita, il file creato da questo comando viene inserito nella directory DNS, che per impostazione predefinita è la directory% SystemRoot%/System32/Dns.<br/># # # # Esempio<br/>Vedere <a href = https://technet.microsoft.com/library/cc784399(v=ws.10).aspx Data-RAW-Source =[example 10: Export zone Resource Records list in a file](https://technet.microsoft.com/library/cc784399(v=ws.10).aspx)>esempio 10: Export zone Resource Records list in a file </a> .<br/>### <a name=BKMK_26></a>/zoneinfo dnscmd<br/>Visualizza le impostazioni dalla sezione del registro di sistema della zona specificata: **HKEY_LOCAL_MACHINE \System\currentcontrolset\services\dns\parameters\zones \< zonename>**<br/>Sintassi # # # #<br/><code>dnscmd [&lt;ServerName&gt;] /zoneinfo &lt;ZoneName&gt;  [&lt;Setting&gt;]</code><br/>Parametri # # # # #<br/>**<ServerName>**<br/>Specifica il server DNS da gestire, rappresentato da indirizzo IP, FQDN o nome host. Se questo parametro viene omesso, viene utilizzato il server locale.<br/>**<ZoneName>**<br/>Specifica il nome della zona.<br/>**<Setting>**<br/>È possibile specificare singolarmente qualsiasi impostazione restituita dal comando **zoneinfo** . Se non si specifica un'impostazione, vengono restituite tutte le impostazioni.<br/># # # # Osservazioni<br/>-Il comando **zoneinfo** Visualizza le impostazioni del registro di sistema a livello di zona DNS in **HKEY_LOCAL_MACHINE \system\currentcontrolset\services\dns\parameters\zones \< zonename>**.<br/>-Per visualizzare le impostazioni del registro di sistema a livello di server, usare il comando <a href=#BKMK_12 data-raw-source=[info](#BKMK_12)>info</a> .<br/>-Per visualizzare un elenco delle impostazioni che è possibile visualizzare con questo comando, vedere il comando <a href=#BKMK_3 data-raw-source=[config](#BKMK_3)>config</a> .<br/># # # # Esempio<br/>Vedere <a href = https://technet.microsoft.com/library/cc784399(v=ws.10).aspx Data-RAW-Source =[esempio 11: visualizzare l'impostazione di RefreshInterval dal registro di sistema](https://technet.microsoft.com/library/cc784399(v=ws.10).aspx)>esempio 11: visualizzare l'impostazione RefreshInterval dal registro di sistema </a> o <a href = https://technet.microsoft.com/library/cc784399(v=ws.10).aspx Data-RAW-Source =[esempio 12: visualizzare l'impostazione di durata dal](https://technet.microsoft.com/library/cc784399(v=ws.10).aspx) registro di sistema>esempio 12: visualizzare l'impostazione di durata dal registro di sistema </a> .<br/>### <a name=BKMK_27></a>/ZonePause dnscmd<br/>sospende l'area specificata, che quindi ignora le richieste di query.<br/>Sintassi # # # #<br/><code>dnscmd [&lt;ServerName&gt;] /zonepause &lt;ZoneName&gt;</code><br/>Parametri # # # # #<br/>**<ServerName>**<br/>Specifica il server DNS da gestire, rappresentato da indirizzo IP, FQDN o nome host. Se questo parametro viene omesso, viene utilizzato il server locale.<br/>**<ZoneName>**<br/>Specifica il nome della zona da sospendere.<br/># # # # Osservazioni<br/>-Per riprendere una zona e renderla disponibile dopo che è stata sospesa, utilizzare il comando <a href=#BKMK_35 data-raw-source=[zoneresume](#BKMK_35)>ZoneResume</a> .<br/># # # # Utilizzo di esempio<br/><code>dnscmd dnssvr1.contoso.com /zonepause test.contoso.com</code><br/>### <a name=BKMK_28></a>/zoneprint dnscmd<br/>elenca i record in una zona.<br/>Sintassi # # # #<br/><code>dnscmd [&lt;ServerName&gt;] /zoneprint &lt;ZoneName&gt;</code><br/>Parametri # # # # #<br/>**<ServerName>**<br/>Specifica il server DNS da gestire, rappresentato dalla sintassi del computer locale, dall'indirizzo IP, dal nome di dominio completo o dal nome host. Se questo parametro viene omesso, viene utilizzato il server locale.<br/>**<ZoneName>**<br/>Identifica la zona da elencare.<br/>### <a name=BKMK_30></a>/ZoneRefresh dnscmd<br/>impone l'aggiornamento di una zona DNS secondaria dalla zona master.<br/>Sintassi # # # #<br/><code>dnscmd &lt;ServerName&gt; /zonerefresh &lt;ZoneName&gt;</code><br/>Parametri # # # # #<br/>**<ServerName>**<br/>Specifica il server DNS da gestire, rappresentato da indirizzo IP, FQDN o nome host. Se questo parametro viene omesso, viene utilizzato il server locale.<br/>**<ZoneName>**<br/>Specifica il nome della zona da aggiornare.<br/># # # # Osservazioni<br/>-Il comando **ZoneRefresh** forza un controllo del numero di versione nel record di risorse di inizio del server master (SOA). Se il numero di versione nel server master è superiore al numero di versione del server secondario&#39;s, viene avviato un trasferimento di zona che aggiorna il server secondario. Se il numero di versione è lo stesso, non viene eseguito alcun trasferimento di zona.<br/>-Il controllo forzato viene eseguito per impostazione predefinita ogni 15 minuti. Per modificare il valore predefinito, usare il comando **dnscmd config RefreshInterval** .<br/># # # # Utilizzo di esempio<br/><code>dnscmd dnssvr1.contoso.com /zonerefresh test.contoso.com</code><br/>### <a name=BKMK_31></a>/ZoneReload dnscmd<br/>Copia le informazioni sulla zona dalla relativa origine.<br/>Sintassi # # # #<br/><code>dnscmd &lt;ServerName&gt; /zonereload &lt;ZoneName&gt;</code><br/>Parametri # # # # #<br/>**<ServerName>**<br/>Specifica il server DNS da gestire, rappresentato da indirizzo IP, FQDN o nome host. Se questo parametro viene omesso, viene utilizzato il server locale.<br/>**<ZoneName>**<br/>Specifica il nome della zona da ricaricare.<br/># # # # Osservazioni<br/>-Se la zona è integrata in Active Directory, viene ricaricata da servizi di dominio Active Directory.<br/>-Se la zona è una zona standard supportata da file, viene ricaricata da un file.<br/># # # # Utilizzo di esempio<br/><code>dnscmd dnssvr1.contoso.com /zonereload test.contoso.com</code><br/>### <a name=BKMK_32></a>/ZoneResetMasters dnscmd<br/>Reimposta gli indirizzi IP del server master che fornisce le informazioni sul trasferimento di zona a una zona secondaria.<br/>Sintassi # # # #<br/><code>dnscmd &lt;ServerName&gt; /zoneresetmasters &lt;ZoneName&gt; [/local] [&lt;IPaddress&gt; [&lt;IPaddress&gt;]...]</code><br/>Parametri # # # # #<br/>**<ServerName>**<br/>Specifica il server DNS da gestire, rappresentato da indirizzo IP, FQDN o nome host. Se questo parametro viene omesso, viene utilizzato il server locale.<br/>**<ZoneName>**<br/>Specifica il nome della zona da ricaricare.<br/>**/local**<br/>Imposta un elenco master locale. Questo parametro viene usato per le zone integrate in Active Directory.<br/>**<IPaddress>**<br/>Indirizzi IP dei server master della zona secondaria.<br/># # # # Osservazioni<br/>: Questo valore viene impostato originariamente quando viene creata la zona secondaria. Usare il comando **ZoneResetMasters** nel server secondario. Questo valore non ha alcun effetto se è impostato sul server DNS master.<br/># # # # Utilizzo di esempio<br/><pre>dnscmd dnssvr1.contoso.com /zoneresetmasters test.contoso.com 10.0.0.1
dnscmd dnssvr1.contoso.com /zoneresetmasters test.contoso.com /local</pre><br/>### <a name=BKMK_33></a>/ZoneResetScavengeServers dnscmd<br/>modifica gli indirizzi IP dei server che possono effettuare lo scavenging della zona specificata.<br/>Sintassi # # # #<br/><code>dnscmd [&lt;ServerName&gt;] /zoneresetscavengeservers &lt;ZoneName&gt; [&lt;IPaddress&gt; [&lt;IPaddress&gt;]...]</code><br/>Parametri # # # # #<br/>**<ServerName>**<br/>Specifica il server DNS da gestire, rappresentato dalla sintassi del computer locale, dall'indirizzo IP, dal nome di dominio completo o dal nome host. Se questo parametro viene omesso, viene utilizzato il server locale.<br/>**<ZoneName>**<br/>Identifica la zona di cui eseguire lo scavenging.<br/>**<IPaddress>**<br/>elenca gli indirizzi IP dei server che possono eseguire lo scavenging. Se questo parametro viene omesso, tutti i server che ospitano quest'area possono eliminarlo.<br/># # # # Osservazioni<br/>Per impostazione predefinita, tutti i server che ospitano una zona possono effettuare lo scavenging di tale zona.<br/>-Se una zona è ospitata in più di un server DNS, è possibile usare questo comando per ridurre il numero di volte in cui viene effettuata la scavenging di una zona.<br/>-Lo scavenging deve essere abilitato sul server DNS e sulla zona interessati dal comando.<br/># # # # Utilizzo di esempio<br/><code>dnscmd dnssvr1.contoso.com /zoneresetscavengeservers test.contoso.com 10.0.0.1 10.0.0.2</code><br/>### <a name=BKMK_34></a>/ZoneResetSecondaries dnscmd<br/>Specifica un elenco di indirizzi IP dei server secondari a cui risponde un server master quando viene richiesto un trasferimento di zona.<br/>Sintassi # # # #<br/><code>dnscmd [&lt;ServerName&gt;] /zoneresetsecondaries &lt;ZoneName&gt; {/noxfr | /nonsecure | /securens | /securelist &lt;SecurityIPaddresses&gt;} {/nonotify | /notify | /notifylist &lt;NotifyIPaddresses&gt;}</code><br/>Parametri # # # # #<br/>**<ServerName>**<br/>Specifica il server DNS da gestire, rappresentato da indirizzo IP, FQDN o nome host. Se il parametro è omesso, viene utilizzato il server locale.<br/>**<ZoneName>**<br/>Consente di specificare il nome della zona per la reimpostazione dei server secondari.<br/>**/NoXfr | /Nonsecure | /SecureNs | /securelist<SecurityIPaddresses>**<br/>Specifica se tutti o solo alcuni dei server secondari che richiedono un aggiornamento ottengono un aggiornamento.<br/>**/noxfr**<br/>Specifica che non sono consentiti trasferimenti di zona.<br/>**/nonsecure**<br/>Specifica che vengono concesse tutte le richieste di trasferimento di zona.<br/>**/securens**<br/>Specifica che viene concesso un trasferimento solo al server elencato nel record di risorse del server dei nomi (NS) per la zona.<br/>**/securelist**<br/>Specifica che i trasferimenti di zona vengono concessi solo all'elenco di server. Questo parametro deve essere seguito da un indirizzo IP o da indirizzi utilizzati dal server master.<br/>**<SecurityIPaddresses>**<br/>elenca gli indirizzi IP che ricevono i trasferimenti di zona dal server master. Questo parametro viene utilizzato solo con il parametro **/securelist** .<br/>**/NONOTIFY | /Notify | /notifylist<NotifyIPaddresses>**<br/>Specifica che una notifica di modifica viene inviata solo a determinati server secondari:<br/>**/nonotify**<br/>Specifica che non viene inviata alcuna notifica di modifica ai server secondari.<br/>**/notify**<br/>Specifica che le notifiche di modifica vengono inviate a tutti i server secondari.<br/>**/notifylist**<br/>Specifica che le notifiche di modifica vengono inviate solo all'elenco di server. Questo comando deve essere seguito da un indirizzo IP o da indirizzi utilizzati dal server master.<br/>**<NotifyIPaddresses>**<br/>Specifica l'indirizzo o gli indirizzi IP del server secondario o dei server a cui vengono inviate le notifiche di modifica. Questo elenco viene usato solo con il parametro **/NotifyList** .<br/># # # # Osservazioni<br/>-Utilizzare il comando **ZoneResetSecondaries** nel server master per specificare la modalità di risposta alle richieste di trasferimento di zona dai server secondari.<br/># # # # Utilizzo di esempio<br/><pre>dnscmd dnssvr1.contoso.com /zoneresetsecondaries test.contoso.com /noxfr /nonotify
dnscmd dnssvr1.contoso.com /zoneresetsecondaries test.contoso.com /securelist 11.0.0.2</pre><br/>### <a name=BKMK_29></a>/zoneresettype dnscmd<br/>modifica il tipo della zona.<br/>Sintassi # # # #<br/><code>dnscmd [&lt;ServerName&gt;] /zoneresettype &lt;ZoneName&gt; &lt;Zonetype&gt; [/overwrite_mem | /overwrite_ds]</code><br/>Parametri # # # # #<br/>**<ServerName>**<br/>Specifica il server DNS da gestire, rappresentato dalla sintassi del computer locale, dall'indirizzo IP, dal nome di dominio completo o dal nome host. Se questo parametro viene omesso, viene utilizzato il server locale.<br/>**<ZoneName>**<br/>Identifica la zona in cui verrà modificato il tipo.<br/>**<Zonetype>**<br/>Specifica il tipo di zona da creare. Ogni tipo ha parametri obbligatori diversi:<br/>**/DsPrimary**<br/>Crea una zona integrata di Active Directory.<br/>**/file/Primary<FileName>**<br/>Crea una zona primaria standard.<br/>**/Secondary <MasterIPaddress> [, <MasterIPaddress> ...]**<br/>Crea una zona secondaria standard.<br/>**/Stub <MasterIPaddress> [, <MasterIPaddress> ...]/file<FileName>**<br/>Crea una zona stub di cui è stato eseguito il backup in un file.<br/>**/DsStub <MasterIPaddress> [, <MasterIPaddress> ...]**<br/>Crea una zona stub integrata di Active Directory.<br/>**/Forwarder &lt; IndirizzoIPMaster [, <MasterIPaddress> ].../file<FileName>**<br/>Specifica che la zona creata Invia le query non risolte a un altro server DNS.<br/>**/DsForwarder**<br/>Specifica che l'area integrata di Active Directory che ha creato l'oggetto invia le query non risolte a un altro server DNS.<br/>**/overwrite_mem | /overwrite_ds**<br/>Specifica come sovrascrivere i dati esistenti:<br/>**/overwrite_mem**<br/>Sovrascrive i dati DNS dai dati in servizi di dominio Active Directory.<br/>**/overwrite_ds**<br/>Sovrascrive i dati esistenti in servizi di dominio Active Directory.<br/># # # # Osservazioni<br/>-L'impostazione del tipo di zona come **/DsForwarder** crea una zona che esegue l'invio condizionale.<br/># # # # Utilizzo di esempio<br/><pre>dnscmd dnssvr1.contoso.com /zoneresettype test.contoso.com /primary /file test.contoso.com.dns
dnscmd dnssvr1.contoso.com /zoneresettype second.contoso.com /secondary 10.0.0.2</pre><br/>### <a name=BKMK_35></a>/ZoneResume dnscmd<br/>avvia una zona specificata precedentemente sospesa.<br/>Sintassi # # # #<br/><code>dnscmd &lt;ServerName&gt; /zoneresume &lt;ZoneName&gt;</code><br/>Parametri # # # # #<br/>**<ServerName>**<br/>Specifica il server DNS da gestire, rappresentato da indirizzo IP, FQDN o nome host. Se questo parametro viene omesso, viene utilizzato il server locale.<br/>**<ZoneName>**<br/>Specifica il nome della zona da riprendere.<br/># # # # Osservazioni<br/>-È possibile usare questa operazione per invertire l'operazione <a href=#BKMK_27 data-raw-source=[zonepause](#BKMK_27)>ZonePause</a> .<br/># # # # Utilizzo di esempio<br/><code>dnscmd dnssvr1.contoso.com /zoneresume test.contoso.com</code><br/>### <a name=BKMK_36></a>/ZoneUpdateFromDs dnscmd<br/>Aggiorna la zona integrata di Active Directory specificata da servizi di dominio Active Directory.<br/>Sintassi # # # #<br/><code>dnscmd &lt;ServerName&gt; /zoneupdatefromds &lt;ZoneName&gt;</code><br/>Parametri # # # # #<br/>**<ServerName>**<br/>Specifica il server DNS da gestire, rappresentato da indirizzo IP, FQDN o nome host. Se questo parametro viene omesso, viene utilizzato il server locale.<br/>**<ZoneName>**<br/>Specifica il nome della zona da aggiornare.<br/># # # # Osservazioni<br/>-le zone integrate in Active Directory eseguono questo aggiornamento per impostazione predefinita ogni cinque minuti. Per modificare questo parametro, usare il comando **dnscmd config dspollinginterval** .<br/># # # # Utilizzo di esempio<br/><code>dnscmd dnssvr1.contoso.com /zoneupdatefromds</code><br/>### <a name=BKMK_37></a>/zonewriteback dnscmd<br/>Controlla la memoria del server DNS per le modifiche rilevanti per una zona specificata e le scrive nell'archivio permanente.<br/>Sintassi # # # #<br/><code>dnscmd &lt;ServerName&gt; /zonewriteback &lt;ZoneName&gt;</code><br/>Parametri # # # # #<br/>**<ServerName>**<br/>Specifica il server DNS da gestire, rappresentato da indirizzo IP, FQDN o nome host. Se questo parametro viene omesso, viene utilizzato il server locale.<br/>**<ZoneName>**<br/>Specifica il nome della zona da aggiornare.<br/># # # # Osservazioni<br/>-Si tratta di un'operazione a livello di zona. È possibile aggiornare tutte le zone in un server DNS con l'operazione <a href=#BKMK_21 data-raw-source=[writebackfiles](#BKMK_21)>writebackfiles</a> .<br/># # # # Utilizzo di esempio<br/><code>dnscmd dnssvr1.contoso.com /zonewriteback test.contoso.com</code>
